# 第九周

## 问题

1. 试画图说明极线几何关系，并指出极点、极线所在，解释极线约束。
2. 结合本质矩阵的定义，说明本质矩阵的意义，同时思考与上一周中平面点对应透视矩阵的区别。
3. 说明三维重构的步骤，并指出输入及输出要求。
4. 说明特征匹配的步骤，进一步说明基于k-d树的特征匹配方法的思路。
5. 说明RANSAC方法的基本思想及实施步骤

## 1.极线几何

![极线约束](./极线约束.PNG)

​       首先极线几何表达了两个相机（或同一相机两个不同时刻）和被观测特征点之间相对位姿的集合关系约束。

​       相机光心、特征点三点构成了极平面两，而两相机的相平面与极平面的交线为极线，左右相机的连线称为基线，基线与相平面的交点就是极点。

## 2.本质矩阵

本质矩阵是旋转矩阵与平移矩阵叉乘的结果，反应的是左右两个成像平面之间的几何变换关系。

透视矩阵是将一个空间点变换为另一个空间点，而极线几何一个空间点对应另一个相机中的一条线。

## 3.三维重构的步骤

1.提取特征点没建立特征匹配；

2.计算视差；

3.计算世界坐标；

4.三角剖分；

5.三维重构

输入是前后（左右）两张图片的特征点匹配信息，而后得到特征点的视差图，最终输出点云数据。

## 4.特征匹配

### 4.1特征匹配的步骤

输入图像——sift/ORB/SURF等特征检测——特征点描述——特征点匹配和滤波——输出结果

### 4.2基于K-D树的特征匹配思路

基于得到的特征点数据建立k-d树：

![K_D树建立](./K_D树建立.PNG)

然后通过最近邻搜索进行匹配;

![最近邻查询法](./最近邻查询法.PNG)

同时为了进一步提高搜索质量和效率引入了BBF和k-d随机森林：

![BBF](./BBF.PNG)

![随机化K-D森林](./随机化K-D森林.PNG)

## 5.RANSAC方法

​        使用最小二乘法估计回归方程时，往往数据噪声会对“显而易见”的回归造成偏移，得不到我们想要的结果，因此我们更倾向于将噪声（大于数据的±3σ）的权值置为0来去除噪声。

![稳健估计](./稳健估计.PNG)

RANSAC正是基于忽略噪声点的迭代试错的方法：

具体就是选两个点，计算数据的3σ，如果在两点连线3σ内的点不够多，说明这两个点的连线必然不是我们想要的直线，丢弃掉继续选取两个点试。

![RANSAC](./RANSAC.PNG)

